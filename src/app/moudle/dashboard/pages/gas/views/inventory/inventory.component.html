<div class="flex flex-col items-start gap-4 min-w-full">
  <div
    class="flex justify-between md:flex-row md:items-center flex-col items-start gap-2 w-full"
  >
    <p class="font-bold text-lg flex-1">Gas Inventory</p>
    <div class="flex flex-1 items-center gap-2 justify-end w-full">
      <select
        class="select select-bordered select-sm"
        placeholder="Select Vehicle"
        (change)="onVehicleChange($event)"
      >
        <option disabled>Pick one</option>
        <option *ngFor="let vehicle of vehicles" [value]="vehicle.id">
          {{ vehicle.name }} - {{ vehicle.identity }}
        </option>
      </select>
      <div class="dropdown dropdown-end">
        <div
          tabindex="0"
          role="button"
          class="btn m-1 btn-sm btn-outline capitalize font-normal w-fit"
          [title]="getTitleForDateFilter()"
        >
          {{ getLabelForDateFilter() }}
        </div>
        <div
          tabindex="0"
          class="dropdown-content menu bg-base-100 rounded-box z-[1] w-[400px] p-2 shadow"
        >
          <div class="flex items-start justify-between gap-4 h-full w-full">
            <ul class="flex flex-col gap-1 w-52 h-full border rounded-md p-2">
              <li
                *ngFor="let filter of date_filter_const"
                [ngClass]="getDateFilterClass(filter.value)"
                (click)="onChangeDatePicker(filter.value)"
              >
                {{ filter.label }}
              </li>
            </ul>
            <div
              class="border rounded-md w-full h-full flex flex-col gap-2 p-2"
            >
              <p class="font-bold text-md">Custom Date</p>
              <div class="flex flex-col gap-4">
                <div class="flex flex-col gap-1">
                  <label for="from_date">From</label>
                  <input
                    id="from_date"
                    type="date"
                    class="input input-sm input-bordered"
                    [value]="date_filter_from"
                    (change)="onChangeDateFilterValue('from', $event)"
                  />
                </div>
                <div class="flex flex-col gap-1">
                  <label for="from_date">To</label>
                  <input
                    id="from_date"
                    type="date"
                    class="input input-sm input-bordered"
                    [value]="date_filter_to"
                    (change)="onChangeDateFilterValue('to', $event)"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <a class="btn btn-outline btn-sm btn-primary" [routerLink]="['create']">
        <i class="bi bi-plus font-bold text-xl"></i>
        Add Gas
      </a>
    </div>
  </div>
  <app-loading-view [loading]="isLoading" class="w-full">
    <ul class="w-full h-full flex flex-col gap-2">
      <li class="flex items-center justify-between px-4 border rounded-md py-2">
        <p class="font-bold text-sm">Total</p>
        <p class="font-bold text-md">{{ getTotalCost() | formatCurrency }}</p>
      </li>
      <li
        *ngFor="let gas of gas_inventory"
        class="border rounded-md px-4 py-2 flex items-center justify-between"
      >
        <div class="flex items-center gap-4">
          <span>
            <i class="bi bi-fuel-pump"></i>
          </span>
          <div>
            <p class="font-bold text-sm">
              {{ gas.created_at | date : "longDate" }}
            </p>
            <p class="text-md">
              {{ gas.vehicle.name }} - {{ gas.vehicle.identity }}
            </p>
          </div>
        </div>
        <div class="flex items-center gap-6 flex-1 justify-end">
          <div class="flex flex-col items-start gap-1 w-1/2">
            <p class="text-md font-bold">2 ltr</p>
            <p class="text-md font-bold">{{ +gas.cost | formatCurrency }}</p>
          </div>
          <div class="flex flex-col gap-2">
            <a
              class="btn btn-sm btn-outline btn-primary"
              [routerLink]="getEditLink(gas.id)"
            >
              <i class="bi bi-pencil-fill font-bold text-lg"></i>
            </a>
            <label class="btn btn-sm btn-outline btn-error" [htmlFor]="gas.id">
              <i class="bi bi-trash font-bold text-lg"></i>
            </label>
          </div>
        </div>
        <input type="checkbox" [id]="gas.id" class="modal-toggle" />
        <div class="modal" role="dialog">
          <div class="modal-box">
            <h3 class="text-lg font-bold">Delete Record!</h3>
            <p>Are you sure you want to delete this record</p>
            <div class="modal-action">
              <label [htmlFor]="gas.id" class="btn btn-ghost">Close</label>
              <label
                [htmlFor]="gas.id"
                class="btn btn-outline btn-error"
                (click)="deleteGasRecord(gas.id)"
              >
                Yes, Sure
              </label>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </app-loading-view>
</div>
